## Общий принцип работы:

1. Получим список дисков определенного каталога (https://yandex.cloud/ru/docs/compute/api-ref/Disk/list) в виде JSON
2. Для дисков, у которых заданна принадлежность к определенной ВМ в поле "instanceIds" лежит ID этой ВМ
3. С помощью API получаем метки этой ВМ (https://yandex.cloud/ru/docs/compute/api-ref/Instance/get), нас интересуют
   метки департамента, продукта и расположения
4. С помощью  того же API добавляем эти метки диску из шага 2 (https://yandex.cloud/ru/docs/compute/api-ref/Disk/update)

---

## Инструкция

### 1. Создайте файл .env в директории проекта (рядом с main.py)

### 2. Укажите в файле .env 2 значения (без пробелов и апострофов):

> YANDEX_FOLDER_ID=<VALUE> <br>
> YANDEX_OAUTH_TOKEN=<VALUE>

где YANDEX_FOLDER_ID - ID каталога Yandex.Cloud, в котором необходимо протеггировать диски, <br><br>
YANDEX_OAUTH_TOKEN - O-Auth токен аккаунта, от имени которого будут вноситься изменения.

Инструкция по получению O-Auth токена здесь: https://yandex.cloud/ru/docs/iam/concepts/authorization/oauth-token

### 4. Установить необходимые зависимости

Выполните след команду в терминале для установки необходимых зависимостей:
> pip install -r requirements.txt

### 5. Запустите скрипт

> python main.py

Пример хода выполнения скрипта:
> Диску <DISK_ID_1> будут назначены след. метки (2 новых): {'key_1': 'value', 'key_2': 'value', 'key_3': 'value'}. <br>
> Диску <DISK_ID_2> будут назначены след. метки (1 новых): {'key_1': 'value', 'key_2': 'value'}. <br><br>
> Вы подтверждаете данные изменения? (y/n): <br>

для применения изменений необходимо ввести "y" + Enter, для выхода "n" + Enter

---

!!! По умолчанию все новые метки, которые будут назначены диску фильтруются: остаются только метки с ключами, перечисленные
в константе TARGET_KEYS_LIST в файле. Если вам нужны другие метки, внесите правки в данную  директиву.